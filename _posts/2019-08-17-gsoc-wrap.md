---
layout: post
title:  "Health: The Journey"
date:   2019-08-17 00:30:05 +0530
---

<link rel="stylesheet" type="text/css" href="/assets/github-buttons.css" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script type="text/javascript" src="/assets/github-buttons.js"></script>

## The past, the present & the future

The past implementation of Health, in the core module, used a single logic flow for all healing of entities:

![Legacy Logic](/assets/images/past.jpg)

In the journey of my GSoC project, I tried to separate the two fundamental healing in the game: regeneration, the natural healing of player, and restoration, the magical healing of an entity.

This Pull Request, which has reference to all module changes, signifies the moving forward to the separate independant logic flows from the single logic flow:

<div class="github-button" url="https://github.com/MovingBlocks/Terasology/pull/3677"></div>

The present of the Health is the [**Health System**](https://github.com/e-aakash/health), which explains the new implementations and how to use them. The [96 commits](https://github.com/Terasology/Health/commits/master), [23 PRs](https://github.com/Terasology/Health/pulls?q=is%3Apr+is%3Aclosed) and [7 issues](https://github.com/Terasology/Health/issues) pretty much sum up the first two-third of the coding period of GSoC.

One of my (stretch?) goal was to create a uniform implementation for all "points" based systems, which have same functionalities and possibly the same APIs, such as health, hunger and thirst. I started out with building stuff around that area, but went on to focus more on Health.

Hence, in the later part of the project, I worked on writing some of the ways of implementing such systems: unique component based, register system and code generation, which can be used based on the specific use case. All of that can be found in the [Point pool wiki](https://github.com/Terasology/PointPool/wiki)

## Testing all the way

Right from the beginning, I was having a clear goal of properly testing my code at every stage possible. Testing module of Terasology, ModuleTestingEnvironment came in very handy in this. 

With its help, I was able to write unit tests for almost all of the functionalities of legacy health before extraction, and most of the functionalities of new implementation. Even though it was a not a test-driven development, it was at least well tested development from my side.

## Refactor stuff

The PRs that I created (and got mergerd!) during the coding period are following apart from the Engine PR and PRs in Health module itself:

[Potions#53](https://github.com/Terasology/Potions/pull/53), [Alteration#12](https://github.com/Terasology/AlterationEffects/pull/12), [AdventureAssets#23](https://github.com/Terasology/AdventureAssets/pull/23), [HealingBlocks#1](https://github.com/Terasology/HealingBlocks/pull/1), [GooKeeper#15](https://github.com/Terasology/GooKeeper/pull/15), [FunnyBlocks#14](https://github.com/Terasology/FunnyBlocks/pull/14), [Equipment#120](https://github.com/Terasology/Equipment/pull/120), [DamagingBlocks#10](https://github.com/Terasology/DamagingBlocks/pull/10), [CombatSystem#38](https://github.com/Terasology/CombatSystem/pull/38), [Breathing#6](https://github.com/Terasology/Breathing/pull/6), [Behaviors#17](https://github.com/Terasology/Behaviors/pull/17), [Anatomy#7](https://github.com/Terasology/Anatomy/pull/7), [WoodAndStone#50](https://github.com/Terasology/WoodAndStone/pull/50), [TutorialBehaviors#4](https://github.com/Terasology/TutorialBehaviors/pull/4), [SnakeTournament#7](https://github.com/Terasology/SnakeTournament/pull/7), [Inferno#5](https://github.com/Terasology/Inferno/pull/5), [Hunger#15](https://github.com/Terasology/Hunger/pull/15), [Thirst#10](https://github.com/Terasology/Thirst/pull/10), [Miniion#8](https://github.com/Terasology/Miniion/pull/8), [WorkstationCrafting#8](https://github.com/Terasology/WorkstationCrafting/pull/8) and [LightAndShadow#98](https://github.com/Terasology/LightAndShadow/pull/98) 
